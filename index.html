
<html>

<head>
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <script src="https://libs.zappar.com/zappar-aframe/0.3.6/zappar-aframe.js"></script>
  <script>
    var contador = 0;
    function avionEventListener() {
      avion.addEventListener('animationcomplete', function () {

        if (contador == 1) {
          avion.setAttribute('animation__1', 'property: position; from: 1 3 -10; to: 1 5 -4;  dur: 2000; easing: linear; loop: false; startEvents: animationcomplete__4');
        }

        contador++;

        console.log(contador);
        console.log(avion);
      });
    };
  </script>


</head>

<body onload="avionEventListener()">
  <a-scene>

    <a-entity position="0 0 5">
      <a-camera></a-camera>
    </a-entity>

    <a-assets>
      <a-asset-item id="amongus" src="amongus.obj"></a-asset-item>
      <a-asset-item id="alien" src="Alien.glb"></a-asset-item>
      <a-asset-item id="avion"
        src="https://cdn.glitch.me/92208df1-b107-4d02-986a-dcaabd7eaf1d%2Ff.obj?v=1634328912934"></a-asset-item>
   
    </a-assets>
        <a-entity camera zappar-camera></a-entity>

      <a-entity zappar-instant="placement-mode: true;" id="my-instant-tracker">


      <!--Luna-->
    <a-sphere position="-5 6 0"
      material="src:https://cdn.glitch.me/92208df1-b107-4d02-986a-dcaabd7eaf1d%2F2k_moon.jpg?v=1634330264349"
      rotation="0 0 0" scale="1.2 1.2 1.2"
      animation="property: rotation; dur: 8000; from: 0 0 0; to: 0 360 0; dir: normal; easing: linear; loop: true;">
    </a-sphere>

    <!--Rotacion-->
    <a-entity animation__1="property: rotation; to: 0 360 0; 
                      loop: true;easing:linear; 
                      dur: 6000;" >


<!--Among us-->
      <a-obj-model src="#amongus" rotation="0 180 0" material="
        src: Plastic_4K_Diffuse.jpg;
        normalMap: Plastic_4K_Normal.jpg;" position="3 0 -2"
        animation="property:scale; from:0.01 0.01 0.01;to:0.02 0.02 0.02;dur:3000;dir:alternate;loop:true">

      </a-obj-model>

      <!--Alien Humanoide-->
    <a-entity gltf-model="#alien" 
    scale="2.5 2.5 2.5 " position="3 0 1" rotation="0 180 0"
    animation="property:scale; to: 1 1 1;dur:3000;dir:alternate ;loop:true;"></a-entity>

    </a-entity>

    <!--Avion-->
    <a-entity id="avion" obj-model="obj: #avion;"
      material="src: https://cdn.glitch.me/92208df1-b107-4d02-986a-dcaabd7eaf1d%2Fmat.png?v=1634329512878"
      position="0 1 -4" scale="0.5 0.5 0.5"
      animation__1="property: position; from: 1 3 -10; to: 1 5 -4;  dur: 2000; easing: linear; loop: false;"
      animation__2="property: position; from: 1 5 -4; to: 3 5 -4;  dur: 2000; easing: linear; loop: false; startEvents: animationcomplete__1"
      animation__3="property: position; from: 3 5 -4; to: 3 3 -10;  dur: 2000; easing: linear; loop: false; startEvents: animationcomplete__2"
      animation__4="property: position; from: 3 3 -10; to: 1 3 -10;  dur: 2000; easing: linear; loop: false; startEvents: animationcomplete__3"
      animation__5="property: rotation; dur: 4000; from: 0 0 0; to: 0 360 0; dir: normal; easing: linear; loop: true; pauseEvents:animationbegin; resumeEvents:animationcomplete__1,animationcomplete__3; ">


      <a-cylinder
          height="3"
          rotation="90 0 0"
          radius="0.1"
          animation__1="property: position; from: 1 0.8 5; to: 1 0.8 50;  dur: 400; easing: linear; loop: true;"
          material="color: blue"
        >
        </a-cylinder>
        <a-cylinder
          height="3"
          rotation="90 0 0"
          radius="0.1"
          animation__1="property: position; from: -1 0.8 5; to: -1 0.8 50;  dur: 400; delay:300; easing: linear; loop: true;"
          material="color: blue"
        >
        </a-cylinder>
    </a-entity>

    


    </a-entity>

    
  </a-scene>
  
    <script>
      let myInstantTracker = document.getElementById("my-instant-tracker");
      document.body.addEventListener("click", () => {
        myInstantTracker.setAttribute(
          "zappar-instant",
          "placement-mode: false;"
        );
      });

    </script>


</body>

</html>
